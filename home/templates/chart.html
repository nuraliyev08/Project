{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chart</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
<br>
<div class="container">
    <div class="alert alert-primary text-center" role="alert">
        Django chart
    </div>
    <div class="col-lg-12 col-md-12">
        <div class="card over-flow-hidden">
            <div class="card-header">
                <p class="card-title text-center" style="">Total Product by Category</p>
            </div>
            <div class="card-body">
                <canvas id="category" class="h-300"></canvas>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    let ctx = document.getElementById("category");
   ctx.height = 150;
    let myChart = new Chart(ctx, {
        type: 'pie',
        data: {
            datasets: [ {
                data: [{% if category %}{% for rs in category %}'{{ rs.count_product }}', {% endfor %}{% endif %}],
                backgroundColor: ['#ADD8E6', '#8FBC8F', '#008B8B', '#FFEFD5', '#D2692E', '#90EE09', '#FF0000', '#381BFF', '#FBFF37', '#F744FF', '#4AF0FF', '#000000', '#8B4513', '#46FC18', '#00FFFF', '#008080', '#000080', '#FF00FF', '#A52A02', '#5F9EA0', '#FFF8DC', '#BDB76B', '#FA8072', '#BC8F8F', '#48D10C', '#D3D3D3', '#F0FF0F', '#8B0000',],}],
            labels: [{% if category %}{% for rs in category %}'{{ rs.title }}',{% endfor %}{% endif %}]},
        options: {
            legend: false,
            responsive: true,
            maintainAspectRatio: false,
        }
    });
</script>
</body>
</html>